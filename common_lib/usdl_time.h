/***************************************************************************************************
*                    (c) Copyright 2008-2014 Syncretize technologies co.,ltd.
*                                       All Rights Reserved
*
*\File          usdl_time.h
*\Description   
*\Note          
*\Log           2014.11.10    Ver 1.0    张波
*               创建文件。
***************************************************************************************************/
#ifndef _USDL_TIME_H
#define _USDL_TIME_H

#include "usdl_type.h"

//标准时间结构
#pragma pack(1)
typedef struct TIME_st
{
    u8 Year;    /*!<年*/
    u8 Month;   /*!<月*/
    u8 Day;     /*!<日*/
    u8 Hour;    /*!<时*/
    u8 Minute;  /*!<分*/
    u8 Second;  /*!<秒*/
}TIME;
#pragma pack()

//时间标尺，默认2000年1月1日 00:00:00
#define INIT_TIME   {0x00, 0x01, 0x01, 0x00, 0x00, 0x00}
//无效时间
#define INVALID_TIME   {0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
//错误时间戳
#define ERROR_STAMP   0

/***************************************************************************************************
*time1比time2早
***************************************************************************************************/
#define TIME_EARLY  (1UL<<0)    /*!<time1比time2早*/

/***************************************************************************************************
*time1比time2晚
***************************************************************************************************/
#define TIME_LATE   (1UL<<1)    /*!<time1比time2晚*/

/***************************************************************************************************
*time1与time2相等
***************************************************************************************************/
#define TIME_EQUAL  (1UL<<2)    /*!<time1与time2相等*/

#define ONE_DAY                 (60 * 60 * 24)     /*!<1日秒数*/
#define ONE_HOUR                (60 * 60)     /*!<1小时秒数*/
#define ONE_MINUTE              (60)     /*!<1分钟秒数*/

extern const u8* ChineseWeekName[]; /*!<中文星期表*/
extern const u8* EnglishWeekName[]; /*!<英文星期表*/
extern const u8* EnWeekName[];  /*!<英文简写星期表*/
extern const u8* ChineseMonthName[];    /*!<中文月分表*/
extern const u8* EnglishMonthName[];    /*!<英文简写月分表*/

/***************************************************************************************************
*DEC时间修改函数
***************************************************************************************************/
bool TimeDECAddYear(TIME* time, u32 value);
bool TimeDECAddMonth(TIME* time, u32 value);
bool TimeDECAddDay(TIME* time, u32 value);
bool TimeDECAddHour(TIME* time, u32 value);
bool TimeDECAddMinute(TIME* time, u32 value);
bool TimeDECAddSecond(TIME* time, u32 value);
bool TimeDECSubYear(TIME* time, u32 value);
bool TimeDECSubMonth(TIME* time, u32 value);
bool TimeDECSubDay(TIME* time, u32 value);
bool TimeDECSubHour(TIME* time, u32 value);
bool TimeDECSubMinute(TIME* time, u32 value);
bool TimeDECSubSecond(TIME* time, u32 value);
/***************************************************************************************************
*BCD时间修改函数
***************************************************************************************************/
bool TimeBCDAddYear(TIME* time, u32 value);
bool TimeBCDAddMonth(TIME* time, u32 value);
bool TimeBCDAddDay(TIME* time, u32 value);
bool TimeBCDAddHour(TIME* time, u32 value);
bool TimeBCDAddMinute(TIME* time, u32 value);
bool TimeBCDAddSecond(TIME* time, u32 value);
bool TimeBCDSubYear(TIME* time, u32 value);
bool TimeBCDSubMonth(TIME* time, u32 value);
bool TimeBCDSubDay(TIME* time, u32 value);
bool TimeBCDSubHour(TIME* time, u32 value);
bool TimeBCDSubMinute(TIME* time, u32 value);
bool TimeBCDSubSecond(TIME* time, u32 value);

void TimeSwap(TIME* time1, TIME* time2);

/***************************************************************************************************
*时间计算函数
***************************************************************************************************/
u32 TimeDECSubTime(TIME time1, TIME time2);
u32 TimeBCDSubTime(TIME time1, TIME time2);
/***************************************************************************************************
*时间类型转换函数
***************************************************************************************************/
bool TimeBCDToDEC(TIME* time);
bool TimeDECToBCD(TIME* time);
/***************************************************************************************************
*时间比较函数
***************************************************************************************************/
u8 TimeComp(TIME* time1, TIME* time2);
/***************************************************************************************************
*时间查询函数
***************************************************************************************************/
u8 TimeMonthDays(u8 year, u8 month);
u8 TimeDECMonthDays(TIME time);
u8 TimeBCDMonthDays(TIME time);
u8 TimeDECWeekDay(TIME time);
u8 TimeBCDWeekDay(TIME time);
/***************************************************************************************************
*时间检查函数
***************************************************************************************************/
bool TimeDECCheck(TIME* time);
bool TimeBCDCheck(TIME* time);
bool TimeZeroCheck(TIME* time);
/***************************************************************************************************
*时间修正函数
***************************************************************************************************/
u8 TimeDECFix(TIME* time);
u8 TimeBCDFix(TIME* time);
/***************************************************************************************************
*时间转换函数
***************************************************************************************************/
u32 TimeDECToStamp(TIME time);
u32 TimeBCDToStamp(TIME time);
TIME TimeDECStampToTime(u32 stamp);
TIME TimeBCDStampToTime(u32 stamp);

bool TimeSameMinute(TIME* t1_dec, TIME* t2_dec);
bool TimeSameDay(TIME* t1_dec, TIME* t2_dec);
bool TimeSameMonth(TIME* t1_dec, TIME* t2_dec);

u32 TimeDECDiffDay(TIME time1, TIME time2);



/***************************************************************************************************
*1秒
***************************************************************************************************/
#define ONE_SECOND              (1)

/***************************************************************************************************
*2秒
***************************************************************************************************/
#define TWO_SECOND              (2)

/***************************************************************************************************
*3秒
***************************************************************************************************/
#define THREE_SECOND            (3)

/***************************************************************************************************
*4秒
***************************************************************************************************/
#define FOUR_SECOND             (4)

/***************************************************************************************************
*5秒
***************************************************************************************************/
#define FIVE_SECOND             (5)

/***************************************************************************************************
*6秒
***************************************************************************************************/
#define SIX_SECOND              (6)

/***************************************************************************************************
*7秒
***************************************************************************************************/
#define SEVEN_SECOND            (7)

/***************************************************************************************************
*8秒
***************************************************************************************************/
#define EIGHT_SECOND            (8)

/***************************************************************************************************
*9秒
***************************************************************************************************/
#define NINE_SECOND             (9)

/***************************************************************************************************
*10秒
***************************************************************************************************/
#define TEN_SECOND              (10)

/***************************************************************************************************
*半分钟秒数
***************************************************************************************************/
#define HALF_MINUTE             (30)

/***************************************************************************************************
*1分钟秒数
***************************************************************************************************/
#define ONE_MINUTE              (60)

/***************************************************************************************************
*2分钟秒数
***************************************************************************************************/
#define TWO_MINUTE              (60 * 2)

/***************************************************************************************************
*15分钟秒数
***************************************************************************************************/
#define QUARTER_HOUR            (60 * 15)

/***************************************************************************************************
*半小时秒数
***************************************************************************************************/
#define HALF_HOUR               (60 * 30)

/***************************************************************************************************
*45分钟秒数
***************************************************************************************************/
#define THREE_QUARTERS_HOUR     (60 * 45)

/***************************************************************************************************
*1小时秒数
***************************************************************************************************/
#define ONE_HOUR                (60 * 60)

/***************************************************************************************************
*半日秒数
***************************************************************************************************/
#define HALF_DAY                (60 * 60 * 12)

/***************************************************************************************************
*1日秒数
***************************************************************************************************/
#define ONE_DAY                 (60 * 60 * 24)

/***************************************************************************************************
*1周秒数
***************************************************************************************************/
#define ONE_WEEK                (60 * 60 * 24 * 7)

/***************************************************************************************************
*1大月秒数
***************************************************************************************************/
#define ONE_BIG_MONTH           (60 * 60 * 24 * 31)

/***************************************************************************************************
*1小月秒数
***************************************************************************************************/
#define ONE_SMALL_MONTH         (60 * 60 * 24 * 30)

/***************************************************************************************************
*1平2月秒数
***************************************************************************************************/
#define ONE_COMMON_FEB          (60 * 60 * 24 * 28)

/***************************************************************************************************
*1闰2月秒数
***************************************************************************************************/
#define ONE_LEAP_FEB            (60 * 60 * 24 * 29)

/***************************************************************************************************
*1平年秒数
***************************************************************************************************/
#define ONE_COMMON_YEAR         (60 * 60 * 24 * 365)

/***************************************************************************************************
*1闰年秒数
***************************************************************************************************/
#define ONE_LEAP_YEAR           (60 * 60 * 24 * 366)


/***************************************************************************************************
*分单位时间量
***************************************************************************************************/

/***************************************************************************************************
*1小时分钟数
***************************************************************************************************/
#define ONE_HOUR_MINUTE         (60)

/***************************************************************************************************
*2小时分钟数
***************************************************************************************************/
#define TWO_HOUR_MINUTE         (60 * 2)

/***************************************************************************************************
*3小时分钟数
***************************************************************************************************/
#define THREE_HOUR_MINUTE       (60 * 3)

/***************************************************************************************************
*4小时分钟数
***************************************************************************************************/
#define FOUR_HOUR_MINUTE        (60 * 4)

/***************************************************************************************************
*5小时分钟数
***************************************************************************************************/
#define FIVE_HOUR_MINUTE        (60 * 5)

/***************************************************************************************************
*6小时分钟数
***************************************************************************************************/
#define SIX_HOUR_MINUTE         (60 * 6)

/***************************************************************************************************
*7小时分钟数
***************************************************************************************************/
#define SEVEN_HOUR_MINUTE       (60 * 7)

/***************************************************************************************************
*8小时分钟数
***************************************************************************************************/
#define EIGHT_HOUR_MINUTE       (60 * 8)

/***************************************************************************************************
*9小时分钟数
***************************************************************************************************/
#define NINE_HOUR_MINUTE        (60 * 9)

/***************************************************************************************************
*10小时分钟数
***************************************************************************************************/
#define TEN_HOUR_MINUTE         (60 * 10)

/***************************************************************************************************
*半天分钟数
***************************************************************************************************/
#define HALF_DAY_MINUTE         (60 * 12)

/***************************************************************************************************
*1天分钟数
***************************************************************************************************/
#define ONE_DAY_MINUTE          (60 * 24)

/***************************************************************************************************
*1周分钟数
***************************************************************************************************/
#define ONE_WEEK_MINUTE         (60 * 24 * 7)

/***************************************************************************************************
*大月分钟数
***************************************************************************************************/
#define BIG_MONTH_MINUTE        (60 * 24 * 31)

/***************************************************************************************************
*小月分钟数
***************************************************************************************************/
#define SMALL_MONTH_MINUTE      (60 * 24 * 30)

/***************************************************************************************************
*平年2月分钟数
***************************************************************************************************/
#define COMMON_FEB_MINUTE       (60 * 24 * 28)

/***************************************************************************************************
*闰年2月分钟数
***************************************************************************************************/
#define LEAP_FEB_MINUTE         (60 * 24 * 29)

/***************************************************************************************************
*平年分钟数
***************************************************************************************************/
#define COMMON_YEAR_MINUTE      (60 * 24 * 365)

/***************************************************************************************************
*闰年分钟数
***************************************************************************************************/
#define LEAP_YEAR_MINUTE        (60 * 24 * 366)


/***************************************************************************************************
*时单位时间量
***************************************************************************************************/

/***************************************************************************************************
*半天小时数
***************************************************************************************************/
#define HALF_DAY_HOUR           (12)

/***************************************************************************************************
*1天小时数
***************************************************************************************************/
#define ONE_DAY_HOUR            (24)

/***************************************************************************************************
*1周小时数
***************************************************************************************************/
#define ONE_WEEK_HOUR           (24 * 7)

/***************************************************************************************************
*1大月小时数
***************************************************************************************************/
#define BIG_MONTH_HOUR          (24 * 31)

/***************************************************************************************************
*1小月小时数
***************************************************************************************************/
#define SMALL_MONTH_HOUR        (24 * 30)

/***************************************************************************************************
*平2月小时数
***************************************************************************************************/
#define COMMON_FEB_HOUR         (24 * 28)

/***************************************************************************************************
*闰2月时数
***************************************************************************************************/
#define LEAP_FEB_HOUR           (24 * 29)

/***************************************************************************************************
*平年小时数
***************************************************************************************************/
#define COMMON_YEAR_HOUR        (24 * 365)

/***************************************************************************************************
*闰年小时数
***************************************************************************************************/
#define LEAP_YEAR_HOUR          (24 * 366)


/***************************************************************************************************
*日单位时间量
***************************************************************************************************/


/***************************************************************************************************
*平2月天数
***************************************************************************************************/
#define COMMON_FEB_DAY          (28)

/***************************************************************************************************
*闰2月天数
***************************************************************************************************/
#define LEAP_FEB_DAY            (29)

/***************************************************************************************************
*小月天数
***************************************************************************************************/
#define SMALL_MONTH_DAY         (30)

/***************************************************************************************************
*大月天数
***************************************************************************************************/
#define BIG_MONTH_DAY           (31)

/***************************************************************************************************
*平年天数
***************************************************************************************************/
#define COMMON_YEAR_DAY         (365)

/***************************************************************************************************
*闰年天数
***************************************************************************************************/
#define LEAP_YEAR_DAY           (366)


/***************************************************************************************************
*月单位时间量
***************************************************************************************************/


/***************************************************************************************************
*1年月数
***************************************************************************************************/
#define ONE_YEAR_MONTH          (12 * 1)

/***************************************************************************************************
*2年月数
***************************************************************************************************/
#define TWO_YEAR_MONTH          (12 * 2)

/***************************************************************************************************
*3年月数
***************************************************************************************************/
#define THREE_YEAR_MONTH        (12 * 3)

/***************************************************************************************************
*4年月数
***************************************************************************************************/
#define FOUR_YEAR_MONTH         (12 * 4)

/***************************************************************************************************
*5年月数
***************************************************************************************************/
#define FIVE_YEAR_MONTH         (12 * 5)

/***************************************************************************************************
*6年月数
***************************************************************************************************/
#define SIX_YEAR_MONTH          (12 * 6)

/***************************************************************************************************
*7年月数
***************************************************************************************************/
#define SEVEN_YEAR_MONTH        (12 * 7)

/***************************************************************************************************
*8年月数
***************************************************************************************************/
#define EIGHT_YEAR_MONTH        (12 * 8)

/***************************************************************************************************
*9年月数
***************************************************************************************************/
#define NINE_YEAR_MONTH         (12 * 9)

/***************************************************************************************************
*10年月数
***************************************************************************************************/
#define TEN_YEAR_MONTH          (12 * 10)

/***************************************************************************************************
*100年月数
***************************************************************************************************/
#define CENTURY_MONTH           (12 * 100)


/***************************************************************************************************
*年单位时间量
***************************************************************************************************/

/***************************************************************************************************
*1世纪年数
***************************************************************************************************/
#define CENTURY_YEAR            (100)


/***************************************************************************************************
*毫秒单位时间量
***************************************************************************************************/

/***************************************************************************************************
*1毫秒
***************************************************************************************************/
#define ONE_MS                  (1)

/***************************************************************************************************
*2毫秒
***************************************************************************************************/
#define TWO_MS                  (2)

/***************************************************************************************************
*3毫秒
***************************************************************************************************/
#define THREE_MS                (3)

/***************************************************************************************************
*4毫秒
***************************************************************************************************/
#define FOUR_MS                 (4)

/***************************************************************************************************
*5秒
***************************************************************************************************/
#define FIVE_MS                 (5)

/***************************************************************************************************
*6毫秒
***************************************************************************************************/
#define SIX_MS                  (6)

/***************************************************************************************************
*7毫秒
***************************************************************************************************/
#define SEVEN_MS                (7)

/***************************************************************************************************
*8毫秒
***************************************************************************************************/
#define EIGHT_MS                (8)

/***************************************************************************************************
*9毫秒
***************************************************************************************************/
#define NINE_MS                 (9)

/***************************************************************************************************
*10毫秒
***************************************************************************************************/
#define TEN_MS                  (10)

/***************************************************************************************************
*250毫秒
***************************************************************************************************/
#define QUARTER_SECOND_MS       (250)

/***************************************************************************************************
*半秒毫秒数
***************************************************************************************************/
#define HALF_SECOND_MS          (500)

/***************************************************************************************************
*1秒毫秒数
***************************************************************************************************/
#define ONE_SECOND_MS           (1000 * 1)

/***************************************************************************************************
*2秒毫秒数
***************************************************************************************************/
#define TWO_SECOND_MS           (1000 * 2)

/***************************************************************************************************
*3秒毫秒数
***************************************************************************************************/
#define THREE_SECOND_MS         (1000 * 3)

/***************************************************************************************************
*4秒毫秒数
***************************************************************************************************/
#define FOUR_SECOND_MS          (1000 * 4)

/***************************************************************************************************
*5秒
***************************************************************************************************/
#define FIVE_SECOND_MS          (1000 * 5)

/***************************************************************************************************
*6秒毫秒数
***************************************************************************************************/
#define SIX_SECOND_MS           (1000 * 6)

/***************************************************************************************************
*7秒毫秒数
***************************************************************************************************/
#define SEVEN_SECOND_MS         (1000 * 7)

/***************************************************************************************************
*8秒毫秒数
***************************************************************************************************/
#define EIGHT_SECOND_MS         (1000 * 8)

/***************************************************************************************************
*9秒毫秒数
***************************************************************************************************/
#define NINE_SECOND_MS          (1000 * 9)

/***************************************************************************************************
*10秒毫秒数
***************************************************************************************************/
#define TEN_SECOND_MS           (1000 * 10)

/***************************************************************************************************
*15秒毫秒数
***************************************************************************************************/
#define QUARTER_MINUTE_MS       (1000 * 15)

/***************************************************************************************************
*半分钟毫秒数
***************************************************************************************************/
#define HALF_MINUTE_MS          (1000 * 30)

/***************************************************************************************************
*1分钟毫秒数
***************************************************************************************************/
#define ONE_MINUTE_MS           (1000 * 60)

/***************************************************************************************************
*2分钟毫秒数
***************************************************************************************************/
#define TWO_MINUTE_MS           (1000 * 60 * 2)

/***************************************************************************************************
*15分钟毫秒数
***************************************************************************************************/
#define QUARTER_HOUR_MS         (1000 * 60 * 15)

/***************************************************************************************************
*半小时毫秒数
***************************************************************************************************/
#define HALF_HOUR_MS            (1000 * 60 * 30)

/***************************************************************************************************
*45分钟毫秒数
***************************************************************************************************/
#define THREE_QUARTERS_HOUR_MS  (1000 * 60 * 45)

/***************************************************************************************************
*1小时毫秒数
***************************************************************************************************/
#define ONE_HOUR_MS             (1000 * 60 * 60)

/***************************************************************************************************
*半日毫秒数
***************************************************************************************************/
#define HALF_DAY_MS             (1000 * 60 * 60 * 12)

/***************************************************************************************************
*1日毫秒数
***************************************************************************************************/
#define ONE_DAY_MS              (1000 * 60 * 60 * 24)

/***************************************************************************************************
*1周毫秒数
***************************************************************************************************/
#define ONE_WEEK_MS             (1000 * 60 * 60 * 24 * 7)

/***************************************************************************************************
*1大月毫秒数
***************************************************************************************************/
#define ONE_BIG_MONTH_MS        (1000 * 60 * 60 * 24 * 31)

/***************************************************************************************************
*1小月毫秒数
***************************************************************************************************/
#define ONE_SMALL_MONTH_MS      (1000 * 60 * 60 * 24 * 30)

/***************************************************************************************************
*1平2月毫秒数
***************************************************************************************************/
#define ONE_COMMON_FEB_MS       (1000 * 60 * 60 * 24 * 28)

/***************************************************************************************************
*1闰2月毫秒数
***************************************************************************************************/
#define ONE_LEAP_FEB_MS         (1000 * 60 * 60 * 24 * 29)

/***************************************************************************************************
*1平年毫秒数
***************************************************************************************************/
#define ONE_COMMON_YEAR_MS      (1000 * 60 * 60 * 24 * 365)

/***************************************************************************************************
*1闰年毫秒数
***************************************************************************************************/
#define ONE_LEAP_YEAR_MS        (1000 * 60 * 60 * 24 * 366)
#endif /*_USDL_TIME_H*/
